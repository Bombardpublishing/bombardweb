<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="imgass\favicon.svg" type="image/x-icon">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="imagechangers.css">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Solar Sweep</title>
  </head>

<style>
  .reader1 {
    width:100%;
    height:87vh;
    position: absolute;
    top:1vh;
    left:50%;
    transform: translate(-50%);
    box-sizing: border-box;
    background: rgba(0, 0, 0, 0)
  }
  .reader1 img{
    max-width: 100%;
    max-height: 100%;
    top: 50%;
    left: 50%;
    width: auto;
    height: auto;
    z-index: 1;
  }
  .tapnext{
    width:45.5%;
    height:100%;
    position:absolute;
    right:0%;
    top:0%;
  }
  .tapprev{
    width:45.5%;
    height:100%;
    position:absolute;
    left:0%;
    top:0%;
  }

  .reader2 {
    width:100%;
    max-width:90vh;
    aspect-ratio: 1/0.08;
    box-sizing: border-box;
    position: fixed;
    left:50%;
    transform: translate(-50%);
    bottom:4vh;
    display: flex;
    justify-content: center;
    font-family: 'Aldrich Regular';
    font-size: 2.6vmin;
    text-align: center;
  }

  .return {
    height:100%;
    width:7%;
    cursor:pointer;
  }

  .navigation {
    height:100%;
    width:86%;
    display: block;
    margin-left: 0.7%;
    margin-right: 0.7%;
  }

  .help {
    height:100%;
    width:7%;
    z-index: 1;
  }

  .progbar{
    border:2px solid #1aff87;
    width:100%;
    height:30%;
    z-index: 1;
    margin-bottom: 1%;
    box-sizing: border-box;
    background-color: black;
  }

  .navigbutts{
    width:100%;
    height:50%;
    box-sizing: border-box;
    display: flex;
    justify-content: center;
    align-items: center;
    align-content: center;
  }

  .navbutton{
    height:100%;
    min-width:8%;
    cursor: pointer
  }

  .capname{
    height:100%;
    width:27%;
    text-align: center;
    font-size:90%;
    padding-top: 0.5%;
    text-shadow: 2px 2px 4px #000000;
  }

  .pagenum {
    height:100%;
    min-width:12%;
    padding-top: 0.5%;
    text-shadow: 2px 2px 4px #000000;
  }

  .selectcap {
    height:100%;
    width:27%;
    text-align: right;
    /* border:1.5px solid white; */
    box-sizing: border-box;
    font-size:80%;
    text-align: center;
    margin-left: 2%;
    cursor:default;
    z-index: 2;
    /* background-color: black; */
    padding-top: 0.6%;
    text-shadow: 2px 2px 4px #000000;
  }

  .selectcap:hover {
    /* border:2px solid #1aff87;*/
    color:#1aff87;
    /* box-sizing: border-box;*/
  }

  .dropdownchapters {
    display: none;
    position: absolute;
    bottom:56%;
    width: 23%;
    z-index: 3;
    border:2px #1aff87 solid;
    background-color: black;
    box-sizing: border-box;
  }

  .dropdownchapters a {
    padding-top: 2%;
    padding-bottom: 2%;
    font-family: 'Aldrich Regular';
    font-size: 100%;
    color: #1aff87;
    text-decoration: none;
    display: block;
    cursor: pointer;
  }

  .dropdownhelp{
    display: none;
    position: absolute;
    font-size: 1.5vmin;
    bottom:8vh;
    background-color: black;
    width: 25vh;
    z-index: 3;
    border:2px #7DFF39 solid;
    padding: 1vh;
    right:0px;
  }

  .selectcap:hover .dropdownchapters {display:block;}
  .help:hover .dropdownhelp {display:block;}
  .dropdownchapters a:hover {background-color: #555555; color:white;}

  .bar {
  left:0px;
  height:100%;
  width:0%;
  background: linear-gradient(0deg, #000000 0%, #1aff87 90%);
  transition: width 0.13s;
  }

</style>

  <body style="text-align: center; justify-content:center; background:linear-gradient(0deg, #1aff87 -50%, #000000 20%)"> <!-- background:linear-gradient(0deg, #1aff87 -50%, #000000 30%); -->

    <div class="reader1">
      <img id="comicImage" src="" alt="">
      <div class="tapnext" onclick="nextPage()"></div>
      <div class="tapprev" onclick="previousPage()"></div>
    </div>

    <div class="reader2">

      <div class="return return1 backbutt" title="Back to Bombard Publishing"><a href="/"><div class="frontbutt return2"></div></a></div>

      <div class="navigation">
        <div class="progbar"><div class="bar" id='pbar'></div></div>
        <div class="navigbutts">
          <div class="nbspacing capname"> <span id="chaptername">------</span></div>
          <div class="nbspacing navbutton prevc1 backbutt"><div class="frontbutt prevc2" onclick="previousChapter()"></div></div>
          <div class="nbspacing navbutton prevp1 backbutt"><div class="frontbutt prevp2" onclick="previousPage()"></div></div>
          <div class="nbspacing pagenum"> <span id="pageCounter">---/---</span></div>
          <div class="nbspacing navbutton nextp1 backbutt"><div class="frontbutt nextp2" onclick="nextPage()"></div></div>
          <div class="nbspacing navbutton nextc1 backbutt"><div class="frontbutt nextc2" onclick="nextChapter()"></div></div>

          <div class="nbspacing selectcap">SELECT CHAPTER <!-- UPDATE CHAPTER TITLES HERE (1/2) -->
            <div class="dropdownchapters">
              <a onclick="loadchapter(1)">Prologue</a>
              <a onclick="loadchapter(2)">Test Chapter</a>
              <a onclick="loadchapter(3)">Gradient Test</a>
              <!-- <a onclick="loadchapter(3)">Chapter 2</a>
              <a onclick="loadchapter(4)">Chapter 3</a>
              <a onclick="loadchapter(5)">Chapter 4</a> -->
            </div>
          </div>
        </div>
      </div>

      <div class="help backbutt help1">
        <div class="help2 frontbutt"></div>
        <div class="dropdownhelp">
          Change pages by clicking the < > navigation buttons, by pressing the left/right arrow keys, or by clicking or tapping on the left/right part of the page.
          <br><br>
          Change chapters with the <<< >>> buttons, or through the 'Select Chapter' menu.
          <br><br>
          Go back to the Bombard Publishing home page by using the left-most 'return' button.
          <br><br>
          Enjoy!
          </div>
      </div>
    </div>

    <div class="copyright">
      <p style="font-size: 1.5vh; color:#669988; text-shadow: 2px 2px 4px #0f0f0f;">
        <i>Â© 2025 Bombard Publishing. All rights reserved.</i>
      </p>
      </div>

  <!-- <script src="interactivebg.js"></script> Loading the background stuff-->

  <script>
  // COMIC DETAILS, UPDATE WITH PAGE NUMBERS AND TITLES (2/2)
  const comicData = {
    chapters: [
      { pages: 1, name: "Prologue" }, // U could add a ' , format: "webm" ' collumn for variable file types
      { pages: 9, name: "Test Chapter" },
      { pages: 20, name: "Background testing chapter" }
      //{ pages: 17, name: "Chapter 2" },
      //{ pages: 32, name: "Chapter 3" },
      //{ pages: 21, name: "Chapter 4" }
    ]
  };

  // BACKGROUND COLOR RULES. Use sparingly for effect, its gotta be either subtle or a surprise everytime
  const bgRules = [
    {chapter: 1, start: 1, end: 1, background: "linear-gradient(90deg, blue -50%, #000000 40%)"}, //prologue blue bg
    {chapter: 2, start: 8, end: 8, background: "linear-gradient(0deg, red -50%, #000000 20%)"}, //orbital combat red bg
    {chapter: 3, start: 3, end: 3, background: "linear-gradient(0deg, #998351 -20%, #65919c 20%, #000000 70%)"}, //bafroom
    {chapter: 3, start: 10, end: 10, background: "#000000"}, //single frame test
    {chapter: 3, start: 17, end: 20, background: "#111122"}, //ugly bg
  //  {chapter: 3, start: 3, end: 6, background: "#003355"},
  //  {chapter: 3, start: 3, end: 6, background: "#003355"},
  ];

  //initial state
  let currentChapter = 1;
  let currentPage = 1;
  const totalChapters = comicData.chapters.length;

  //update page function
  function updatePage() {
    const comicImage = document.getElementById("comicImage");
    const pageCounter = document.getElementById("pageCounter");
    const chaptername = document.getElementById("chaptername");
    const pbar = document.getElementById("pbar");
    const chapterData = comicData.chapters[currentChapter - 1];

    comicImage.src = `SolarSweepComic/${currentChapter}/${currentPage}.webp`;
    pageCounter.textContent = `${currentPage}/${chapterData.pages}`;
    chaptername.textContent = `${chapterData.name}`
    pbar.style.width = (currentPage - 1)/(chapterData.pages - 1)*100 + '%';
    comicImage.alt = `${chapterData.name}, page ${currentPage}.`;

    // Background changing
    const bgMatch = bgRules.find(rule =>
      rule.chapter === currentChapter &&
      currentPage >= rule.start &&
      currentPage <= rule.end
    );
    if (bgMatch) {
        document.body.style.background = bgMatch.background;
      } else {
        document.body.style.background = "linear-gradient(0deg, #1aff87 -50%, #000000 20%)"; // fallback
      }
    }

  // navigation
  document.addEventListener('keydown', function(event) {
    switch(event.key) {
      case 'ArrowRight':
        nextPage();
        break;
      case 'ArrowLeft':
        previousPage();
        break;
    }
  });

  function previousChapter() {
    if (currentChapter > 1) {
      currentChapter--;
      currentPage = 1;
      updatePage();
    } else {
      currentChapter = 1;
      currentPage = 1;
      updatePage();
    }
  }

  function nextChapter() {
    if (currentChapter < totalChapters) {
      currentChapter++;
      currentPage = 1;
      updatePage();
    } else {
    currentChapter = totalChapters;
    currentPage = comicData.chapters[currentChapter - 1].pages;
    updatePage();
    }
  }

  function previousPage() {
    if (currentPage > 1) {
      currentPage--;
      updatePage();
    } else if (currentChapter > 1) {
      currentChapter--;
      currentPage = comicData.chapters[currentChapter - 1].pages;
      updatePage();
    }
  }

  function nextPage() {
    const chapterData = comicData.chapters[currentChapter - 1];
    if (currentPage < chapterData.pages) {
      currentPage++;
      updatePage();
    } else if (currentChapter < totalChapters) {
      currentChapter++;
      currentPage = 1;
      updatePage();
    }
  }

  function loadchapter(chapterNum) {
    currentChapter = chapterNum;
    currentPage = 1;
    updatePage();
    }

  // Initial page load
  updatePage();

</script>

</body>
</html>
